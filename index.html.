<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Echa I Love You Forever</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        height: 100vh;
        background: linear-gradient(135deg,#ff7eb3,#ff758c,#ff6a88,#ff99ac);
        background-size: 400% 400%;
        animation: bgMove 12s ease infinite;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: "Poppins", sans-serif;
    }

    @keyframes bgMove {
        0% {background-position: 0% 50%;}
        50% {background-position: 100% 50%;}
        100% {background-position: 0% 50%;}
    }

    /* Envelope */
    .envelope {
        width: 220px;
        height: 140px;
        background: white;
        position: relative;
        border-radius: 10px;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(255,0,80,0.4);
        z-index: 10;
        overflow: hidden;
    }

    .envelope:before {
        content: "";
        position: absolute;
        width: 0;
        height: 0;
        border-left: 110px solid transparent;
        border-right: 110px solid transparent;
        border-bottom: 70px solid #ff6a88;
        top: -70px;
    }

    /* Letter sliding */
    .letter-paper {
        width: 200px;
        height: 120px;
        background: white;
        border-radius: 10px;
        position: absolute;
        top: 80px;
        left: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1rem;
        font-weight: bold;
        color: #ff4d88;
        box-shadow: 0 3px 15px rgba(0,0,0,0.2);
        transition: transform 1.4s ease, opacity 1.4s ease;
    }

    /* Final glowing text */
    .message {
        display: none;
        color: white;
        font-size: 1.7rem;
        text-align: center;
        animation: glow 2s infinite alternate;
        z-index: 20;
    }

    @keyframes glow {
        from { text-shadow:0 0 10px #ff3f8e; }
        to { text-shadow:0 0 20px #ffffff; }
    }

    /* Heart burst */
    .burst-heart {
        position: absolute;
        width: 20px;
        height: 20px;
        background: red;
        transform: rotate(-45deg);
        animation: burst 1s ease-out forwards;
        opacity: 0.8;
    }

    .burst-heart:before,
    .burst-heart:after {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        background: red;
        border-radius: 50%;
    }

    .burst-heart:before { top: -10px; left: 0; }
    .burst-heart:after { left: 10px; top: 0; }

    @keyframes burst {
        0% {transform: scale(0.3) translate(0,0);}
        100% {transform: scale(1.5) translate(200px,-200px); opacity: 0;}
    }

    /* Floating hearts after reveal */
    .heart {
        position: absolute;
        width: 15px;
        height: 15px;
        background: rgba(255,0,80,0.8);
        transform: rotate(-45deg);
        animation: floatUp 6s linear infinite;
    }

    .heart:before,
    .heart:after {
        content: "";
        position: absolute;
        width: 15px;
        height: 15px;
        background: rgba(255,0,80,0.8);
        border-radius: 50%;
    }

    .heart:before { top: -8px; left: 0; }
    .heart:after { left: 8px; top: 0; }

    @keyframes floatUp {
        from {transform: translateY(0) rotate(-45deg); opacity: 1;}
        to {transform: translateY(-600px) rotate(-45deg); opacity: 0;}
    }
</style>
</head>

<body>

<!-- Envelope with hidden letter -->
<div class="envelope" id="envelope">
    <div class="letter-paper" id="letterPaper">
        üíå Tap to Open
    </div>
</div>

<!-- Main message after reveal -->
<div class="message" id="message">
    Echa, I Love You Forever ‚ù§Ô∏è
</div>

<!-- Music (starts on letter open) -->
<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
    const envelope = document.getElementById("envelope");
    const letterPaper = document.getElementById("letterPaper");
    const message = document.getElementById("message");
    const music = document.getElementById("bgMusic");

    envelope.addEventListener("click", () => {

        /* Slide letter upward */
        letterPaper.style.transform = "translateY(-250px)";
        letterPaper.style.opacity = "0";

        /* Hide envelope after animation */
        setTimeout(() => {
            envelope.style.display = "none";
            message.style.display = "block";
            heartBurst();
            music.play();  // Music starts now
            setTimeout(startFloatingHearts, 1500);
        }, 1500);
    });

    /* Heart burst */
    function heartBurst() {
        for (let i = 0; i < 25; i++) {
            const h = document.createElement("div");
            h.className = "burst-heart";

            const x = window.innerWidth / 2;
            const y = window.innerHeight / 2;

            h.style.left = x + "px";
            h.style.top = y + "px";

            h.style.transform = `translate(${(Math.random()*300)-150}px, ${(Math.random()*300)-150}px) rotate(-45deg)`;

            document.body.appendChild(h);
            setTimeout(() => h.remove(), 1000);
        }
    }

    /* Floating hearts afterwards */
    function startFloatingHearts() {
        setInterval(() => {
            const heart = document.createElement("div");
            heart.className = "heart";
            heart.style.left = Math.random() * window.innerWidth + "px";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }, 260);
    }
</script>

</body>
  </html>
